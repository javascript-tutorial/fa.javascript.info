# در آمدی بر جاوا اسکپریت

در اینجا به قابلیت‌های جاوا اِسکریپت، اینکه به واسطه آن چه کارهایی می‌توان انجام داد و چه تکنولوژی‌هایی با آن به خوبی کار می‌کنند، نگاهی می‌اندازیم.

## جاوا اسکریپت چیست 

جاوا اِسکریپت در ابتدا به منظور **زنده کردن صفحات** **وب** ساخته شد. 

برنامه‌هایی که در این زبان نوشته می‌شوند را اصطلاحا **اسکریپت** می‌نامند، که می‌توان آن را مستقیما در یک سند HTML نوشت و به صورت خودکار با بارگذاری صفحه، اجرا می‌شوند. 

**اِسکریپت‌ها** نیازی به آماده‌سازی (Compilation) ندارند و فقط کافیست آنها را به صورت متنی در یک فایل (Plain Text) بنویسیم. 

از این نظر جاوا اِسکریپت تفاوت زیادی با زبان
[جاوا](https://en.wikipedia.org/wiki/Java_(programming_language)).
دارد

**چرا جاوا** **اِسکریپت**

جاوا اِسکریپت در زمان تولد، LiveScript نامیده می‌شد. اما در آن زمان زبانی به نام **جاوا** محبوبیت فراوانی داشت، به همین منظور تصمیم بر آن شد تا برای آن (جاوا) **برادری** **جوان‌تر** قرار دهند. 
اما با توسعه روز افزون جاوا اِسکریپت، این زبان کاملا مستقل، و دارای استانداری به نام اِکما اِسکریپت شد و اکنون هیچ ارتباطی با زبان جاوا ندارد. 

در حال حاضر جاوا اسکریپت نتنها در مرورگرهای وب، بلکه در سمت سِرور هم قابلیت اجرایی دارد. عملا در هر محیطی که **موتور جاوا** **اِسکریپت** وجود داشته باشد، این زبان قابلیت اجرا شدن را داراست. 
مرورگرهای وب دارای موتوری داخلی برای اجرای جاوا اِسکریپت هستند، که گاهی آن را  **ماشین مجازی جاوا** **اِسکریپت** نیز می‌نامند. 

موتورهای مختلف دارای **اسم رمز** خاص خود هستند، برای نمونه : 

**V8** برای مرورگرهای کروم و اُپِرا

**Spider Monkey** برای مرورگر فایرفاکس 
اسم رمزهای دیگری چون **Trident** ، **Chakra** برای نسخه‌های مختلف **IE** ، همینطور **ChakraCore** برای مرورگر اِج مایکروسافت، و **Nitro** ، **SquireFish** برای مرورگر سافاری وجود دارند. 

بخاطر سپردن این نام‌ها مفید هستند، چراکه در مقالات مختلف به آنها بر خواهید خورد، همینطور زمانیکه ما در این آموزش برای نمونه می‌گوییم ویژگی X توسط موتور **V8** پشتیبانی می‌شود، یعنی به احتمال زیاد در مرورگرهای کروم و اپرا پشتیبانی خواهد شد. 

**موتورها** **چگونه کار** **می‌کنند**

موتورها پیچیده هستند، ولی اساس آنها ساده است. 
 

۱. موتور در ابتدا اِسکریپت را می‌خواند (Parse). 

۲. سپس آن را به زبان ماشین ترجمه می‌کند (Compile). 

۳. در انتها کدهای ماشین به سرعت اجرا می‌شوند.

موتور در تمام مراحل پردازش عملیات بهینه‌سازی را انجام می‌دهد. حتی به اِسکریپت‌ ترجمه شده توجه می‌کند و اطلاعاتی که در این بین رد و بدل می‌شود را بررسی می‌کند و در این مرحله هم روی ‌کدهای ماشین عملیات بهینه‌سازی را انجام می‌دهد تا سرعت اجرای اِسکریپت‌ها بالا رود.

## جاوا اِسکریپت در مرورگر چه توانایی‌هایی دارد  ؟  

جاوا اِسکریپت مدرن زبانی‌ست امن. این زبان اجازه دسترسی در سطوح پایین مانند درسترسی به حافظه (Memory) و پردازنده (CPU) را نمی‌دهد، چراکه از ابتدا برای مرورگرها (که نیازی به این موراد ندارند) ساخته شده بود. 

 قابلیت‌های جاوا اِسکریپت کاملا به محیطی که در آن اجرا می‌شود بستگی دارد. برای نمونه با جاوا اِسکریپت در Node.JS می‌توان عملیات خواندن و نوشتن (Read/Write) روی فایل‌ها را انجام داد، و یا در شبکه درخواست‌هایی ارسال و دریافت کرد، و دیگر موارد. 

در مرورگر جاوا اِسکریپت می‌تواند تمامی تعمالات لازم با کاربر و وب‌سِرور را انجام دهد. 

برای نمونه جاوا اِسکریپت در مرورگر می‌تواند : 

- اِلِمان‌های HTML به صفحه اضافه نماید، محتوای فعلی را تغییر دهد و استایل‌ها را اصلاح کند. 
- با کابر در تعامل باشد، و نسبت به کلیک‌ها، فشردن دکمه‌ها و حرکت موس عکس‌العمل نشان دهد. 
- درخواست‌ها مورد نظر را در سطح شبکه ارسال و دریافت کند، فایل آپلود و دانلود کند (که به این نوع تکنولوژی‌ها اصطلاحا AJAX و COMET گفته می‌شود) 
- کوکی (Cookie) ها را ذخیره و استفاده کند، از کاربران سوال بپرسد، پیام‌ها را نمایش دهد. 
- اطلاعات سمت کاربر را بخاطر بسپارد (LocalStorage). 

## جاوا اِسکریپت در مرورگر چه توانایی‌هایی ندارد ؟ 

توانایی‌های جاوا اِسکریپت در مرورگر به منظور تامین امنیت کاربر، محدود شده است، تا به اطلاعات کاربران تهدیدی وارد نشود. 

برای نمونه : 

- جاوا اِسکریپت در مرورگر امکان خواندن، نوشتن و کپی کردن فایل‌ها را ندارد. همینطور مستقیما نمی‌تواند از قابلیت‌های سیستم‌عامل استفاده کند. 
  البته مرورگرهای جدید امکان کار با فایل‌ها را به کاربرها می‌دهند، به این صورت که مثلا از تَگ <input> استفاده شود. 
  همچنین راه‌هایی برای تعامل با دوربین، میکروفون و دیگر دستگاه‌ها وجود دارد، اما استفاده از چنین مواردی به اجازه صریح از طرف کاربر نیاز دارد و نمی‌توان به صورت پنهانی از این قابلیت‌ها استفاده نمود. 

- تب‌ها و پنجره‌ها بطور کلی در مورد یکدیگر چیزی نمی‌دانند. اما درشرایطی هم می‌دانند، بطور نمونه زمانی که یک پنجره برای باز نمودن پنجره دیگر از جاوا اِسکریپت استفاده می‌کند. اما حتی در این حالت هم ممکن است جاوا اِسکریپت به صفحات دیگر دسترسی نداشته باشد (اگر صفحات مذکور از دامنه، پروتکل یا پورت دیگری باشند). 
  به این موضوع Same Origin Policy گفته می‌شود. برای آنکه بتوان در این حالت کار کرد هر دو صفحه باید یک کد جاوا اِسکریپت مخصوصی داشته باشند تا بتوان این تبادل اطلاعات را انجام داد.  
  این محدودیت‌ها برای امنیت کاربر است. صفحه‌ای از دامنه [http://anysite.com](http://anysite.com/) که کابر آن را باز کرده است نباید به تب دیگر مرورگر با آدرس [http://gmail.com](http://gmail.com/) دسترسی داشته باشد و اطلاعات آن را به سرقت ببرد. 
- جاوا اِسکریپت می‌تواند در سطح شبکه با سِروِرها ارتباط بر قرار کند. اما توانایی آن در دریافت اطلاعات از دیگر دامنه‌ها و سایت‌ها با مسائلی مواجه هست. اگر چنین چیزی امکان‌پذیر است اما به اجازه مستقیم از طرف سِروِرِ مربوطه نیازمند می‌باشد. تمام این محدودیت‌ها برای امنیت کاربر قرار داده شده‌اند. 

![](limitations.png)

اگر جاوا اِسکریپت در محیطی خارج از مرورگرها اجرا می‌شد (برای نمونه در سِروِرها) ، این محدودیت‌ها محدودیت‌ها وجود نداشتند. همینطور پلاگین‌ها مختلف ممکن است برای انجام کارهای مختلف پلاگین‌ها و افزونه‌هایی را نصب کنند که سطح دسترسی‌شان را افزایش می‌دهد.

## چه چیزی جاوا اِسکریپت را منحصر بفرد می‌کند ؟ 

حداقل سه ویژگی مهم در جاوا اِسکریپت وجود دارد : 

- تطابق کامل با HTML و CSS 
- کارهای ساده به سادگی انجام می‌شوند 
- توسط تمام مرورگرهای مهم پشتیبانی شده و به صورت پیش‌فرض مورد استفاده قرار می‌گیرد 

به همین دلیل جاوا اِسکریپت شایع‌ترین ابزار برای ساخت رابط‌های کاربری در مرورگر‌ها می‌باشد. 

##  زبان‌هایی فراتر از جاوا اِسکریپت 

سینتَکس (Syntax) جاوا اِسکریپت مورد نیاز هر کسی نیست و اشخاص مختلف به قابلیت‌های متفاوتی نیاز دارند. چراکه نیازمندی‌های هر پروژه متفاوت است. 

اخیرا تعداد زیادی زبان بوجود آمده‌اند که به جاوا اِسکریپت تبدیل (Transpile) شده، پیش از آنکه جاوا اِسکریپت در مرورگر اجرا شود. 

نمونه‌هایی از این زبان‌ها : 

- CoffeeScript : که سینتکس کوتاه‌تری را ارائه می‌کند و قابلیت نوشتن کدهایی تمیز و دقیق را بوجود می‌آورد. 

- TypeScript : که تمرکز اصلی خود را بر اضافه نمودن DataType ها قرار داده تا فرایند توسعه ساده‌تر شود و نرم‌افزار نهایی قابلیت‌های پیچیده‌تری را به اجرا در آورد. این زبان توسط مایکروسافت توسعه داده شده است. 
- Dart : که زبانی مستقل با موتور مربوط به خود بوده و در محیط‌های غیر مرورگری (مانند نرم‌افزارهای موبایل) کار می‌کند. این زبان در ابتدا توسط گوگل معرفی شد تا جایگزینی برای جاوا اِسکریپت باشد. 

## خلاصه

- جاوا اِسکریپت در ابتدا برای مرورگرها ساخته شده بود ولی در حال حاضر در محیط‌های متفاوتی قابلیت اجرا دارد. 

- جاوا اِسکریپت در شرایط حاضر موقعیت مشخص و منحصر بفردی در زبان‌های تحت مرورگرها دارد که تطابق کاملی با HTML و CSS را دارا می‌باشد. 
- زبان‌های مختلفی وجود دارند که به جاوا اِسکریپت تبدیل می‌شوند تا بتوانند ویژگی‌های مشخصی را فراهم کنند. که پیشنهاد می‌کنیم حداقل یکی از آنها را بعد از تسلط به جاوا اِسکریپت مطالعه نمائید. 
